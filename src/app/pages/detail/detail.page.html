<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="back()">
        <ion-icon name="chevron-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-title>Details</ion-title>

    <!-- Herz rechts im Header -->
    <ion-buttons slot="end">
      <ion-button
        fill="clear"
        [disabled]="!entry()"
        (click)="toggleFav()"
        [attr.aria-label]="isFav() ? 'aus „Meine Nacht“ entfernen' : 'in „Meine Nacht“ speichern'"
      >
        <ion-icon [name]="isFav() ? 'heart' : 'heart-outline'"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ng-container *ngIf="!isLoading(); else loading">
    <ng-container *ngIf="entry(); else notfound">
      <ion-list inset="true">
        <ion-item>
          <ion-label>
            <h2>{{ entry()!.titel }}</h2>
            <div [innerHTML]="entry()?.beschreibung"></div>
          </ion-label>
        </ion-item>

        <ion-item>
          <ion-label>
            <strong>Zeit</strong><br />
            {{ entry()!.beginn }} – {{ entry()!.ende }}
          </ion-label>
        </ion-item>

        <ion-item>
          <ion-label>
            <strong>Ort</strong><br />
            {{ entry()!.ort }}<br />
            {{ entry()!.adresse }}
          </ion-label>
        </ion-item>

        <ion-item lines="none">
          <ion-button (click)="toggleFav()">
            <ion-icon
              slot="start"
              [name]="isFav() ? 'heart' : 'heart-outline'"
            ></ion-icon>
            {{ isFav() ? 'aus "Meine Nacht" entfernen' : 'in "Meine Nacht"
            speichern' }}
          </ion-button>
        </ion-item>
      </ion-list>
    </ng-container>
  </ng-container>

  <ng-template #loading>
    <ion-item lines="none"><ion-label>Laden…</ion-label></ion-item>
  </ng-template>

  <ng-template #notfound>
    <ion-item lines="none"
      ><ion-label>Eintrag nicht gefunden.</ion-label></ion-item
    >
  </ng-template>
</ion-content>

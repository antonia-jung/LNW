<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="back()">
        <ion-icon name="chevron-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Details</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ng-container *ngIf="!isLoading(); else loading">
    <ng-container *ngIf="entry(); else notfound">
      <ion-list inset="true">
        <ion-item>
          <ion-label>
            <h2>{{ entry()!.titel }}</h2>
            <div [innerHTML]="entry()?.beschreibung"></div>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-label>
            <strong>Zeit</strong><br />
            {{ entry()!.beginn }} – {{ entry()!.ende }}
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-label>
            <strong>Ort</strong><br />
            {{ entry()!.ort }}<br />
            {{ entry()!.adresse }}
          </ion-label>
        </ion-item>
        <ion-item lines="none">
          <ion-button
            (click)="getdata.toogleFavorit(entry()!.id, entry()!.termin_id)"
          >
            <ion-icon
              slot="start"
              [name]="getdata.isFavorit(entry()!.id, entry()!.termin_id) ? 'heart' : 'heart-outline'"
            ></ion-icon>
            {{ getdata.isFavorit(entry()!.id, entry()!.termin_id) ? 'Favorit
            entfernen' : 'Als Favorit' }}
          </ion-button>
        </ion-item>
      </ion-list>
    </ng-container>
  </ng-container>

  <ng-template #loading>
    <ion-item lines="none"><ion-label>Laden…</ion-label></ion-item>
  </ng-template>

  <ng-template #notfound>
    <ion-item lines="none"
      ><ion-label>Eintrag nicht gefunden.</ion-label></ion-item
    >
  </ng-template>
</ion-content>
